"use strict";(self.webpackChunkmango=self.webpackChunkmango||[]).push([[2855],{22855:(t,e,i)=>{i.d(e,{decimals:()=>Q});const s=new Map,n=new Map;async function o(t,e){let{cacheKey:i,cacheTime:o=Number.POSITIVE_INFINITY}=e;const r=function(t){const e=(t,e)=>({clear:()=>e.delete(t),get:()=>e.get(t),set:i=>e.set(t,i)}),i=e(t,s),o=e(t,n);return{clear:()=>{i.clear(),o.clear()},promise:i,response:o}}(i),a=r.response.get();if(a&&o>0){if((new Date).getTime()-a.created.getTime()<o)return a.data}let c=r.promise.get();c||(c=t(),r.promise.set(c));try{const t=await c;return r.response.set({created:new Date,data:t}),t}finally{r.promise.clear()}}var r=i(59727);function a(t){let{includeName:e=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t?t.map((t=>function(t,e){let{includeName:i}=e;if(t.type.startsWith("tuple"))return`(${a(t.components,{includeName:i})})${t.type.slice(5)}`;return t.type+(i&&t.name?` ${t.name}`:"")}(t,{includeName:e}))).join(e?", ":","):""}var c=i(27283),u=i(97557);u.C;u.C;u.C;class h extends u.C{constructor(t){let{data:e,params:i,size:s}=t;super([`Data size of ${s} bytes is too small for given parameters.`].join("\n"),{metaMessages:[`Params: (${a(i,{includeName:!0})})`,`Data:   ${e} (${s} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=i,this.size=s}}u.C;class p extends u.C{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}u.C;u.C;u.C;u.C;u.C;u.C;u.C;u.C;u.C;u.C;u.C;u.C;u.C;u.C;u.C;u.C;u.C;class l extends u.C{constructor(t,e){let{docsPath:i}=e;super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:i}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}u.C;u.C;u.C;var d=i(41961),f=i(3641);class y extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}set(t,e){return super.set(t,e),this.maxSize&&this.size>this.maxSize&&this.delete(this.keys().next().value),this}}const m=new y(8192);function g(t,e){if(m.has(`${t}.${e}`))return m.get(`${t}.${e}`);const i=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),s=(0,f.S)((0,d.Af)(i),"bytes"),n=(e?i.substring(`${e}0x`.length):i).split("");for(let r=0;r<40;r+=2)s[r>>1]>>4>=8&&n[r]&&(n[r]=n[r].toUpperCase()),(15&s[r>>1])>=8&&n[r+1]&&(n[r+1]=n[r+1].toUpperCase());const o=`0x${n.join("")}`;return m.set(`${t}.${e}`,o),o}class b extends u.C{constructor(t){let{offset:e}=t;super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NegativeOffsetError"})}}class w extends u.C{constructor(t){let{length:e,position:i}=t;super(`Position \`${i}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PositionOutOfBoundsError"})}}class P extends u.C{constructor(t){let{count:e,limit:i}=t;super(`Recursive read limit of \`${i}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RecursiveReadLimitExceededError"})}}const v={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new P({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new w({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new b({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new b({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const i=e??this.position;return this.assertPosition(i+t-1),this.bytes.subarray(i,i+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,255&t),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const i=this.inspectBytes(t);return this.position+=e??t,i},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};var C=i(99226);function T(t){let{dir:e="left"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i="string"===typeof t?t.replace("0x",""):t,s=0;for(let n=0;n<i.length-1&&"0"===i["left"===e?n:i.length-n-1].toString();n++)s++;return i="left"===e?i.slice(s):i.slice(0,i.length-s),"string"===typeof t?(1===i.length&&"right"===e&&(i=`${i}0`),`0x${i.length%2===1?`0${i}`:i}`):i}var $=i(28756),j=i(66560),O=i(12835);function B(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"undefined"!==typeof e.size&&(0,j.Sl)(t,{size:e.size});const i=(0,O.My)(t,e);return(0,j.uU)(i,e)}function x(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t;if("undefined"!==typeof e.size&&((0,j.Sl)(i,{size:e.size}),i=T(i)),i.length>1||i[0]>1)throw new $.xO(i);return Boolean(i[0])}function E(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"undefined"!==typeof e.size&&(0,j.Sl)(t,{size:e.size});const i=(0,O.My)(t,e);return(0,j.ME)(i,e)}function M(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t;return"undefined"!==typeof e.size&&((0,j.Sl)(i,{size:e.size}),i=T(i,{dir:"right"})),(new TextDecoder).decode(i)}function R(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function U(t,e){const i="string"===typeof e?(0,d.aT)(e):e,s=function(t){let{recursiveReadLimit:e=8192}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=Object.create(v);return i.bytes=t,i.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),i.positionReadCount=new Map,i.recursiveReadLimit=e,i}(i);if(0===(0,c.E)(i)&&t.length>0)throw new p;if((0,c.E)(e)&&(0,c.E)(e)<32)throw new h({data:"string"===typeof e?e:(0,O.My)(e),params:t,size:(0,c.E)(e)});let n=0;const o=[];for(let r=0;r<t.length;++r){const e=t[r];s.setPosition(n);const[i,a]=z(s,e,{staticPosition:0});n+=a,o.push(i)}return o}function z(t,e,i){let{staticPosition:s}=i;const n=R(e.type);if(n){const[i,o]=n;return function(t,e,i){let{length:s,staticPosition:n}=i;if(!s){const i=n+E(t.readBytes(N)),s=i+I;t.setPosition(i);const o=E(t.readBytes(I)),r=S(e);let a=0;const c=[];for(let n=0;n<o;++n){t.setPosition(s+(r?32*n:a));const[i,o]=z(t,e,{staticPosition:s});a+=o,c.push(i)}return t.setPosition(n+32),[c,32]}if(S(e)){const i=n+E(t.readBytes(N)),o=[];for(let n=0;n<s;++n){t.setPosition(i+32*n);const[s]=z(t,e,{staticPosition:i});o.push(s)}return t.setPosition(n+32),[o,32]}let o=0;const r=[];for(let a=0;a<s;++a){const[i,s]=z(t,e,{staticPosition:n+o});o+=s,r.push(i)}return[r,o]}(t,{...e,type:o},{length:i,staticPosition:s})}if("tuple"===e.type)return function(t,e,i){let{staticPosition:s}=i;const n=0===e.components.length||e.components.some((t=>{let{name:e}=t;return!e})),o=n?[]:{};let r=0;if(S(e)){const i=s+E(t.readBytes(N));for(let s=0;s<e.components.length;++s){const a=e.components[s];t.setPosition(i+r);const[c,u]=z(t,a,{staticPosition:i});r+=u,o[n?s:a?.name]=c}return t.setPosition(s+32),[o,32]}for(let a=0;a<e.components.length;++a){const i=e.components[a],[c,u]=z(t,i,{staticPosition:s});o[n?a:i?.name]=c,r+=u}return[o,r]}(t,e,{staticPosition:s});if("address"===e.type)return function(t){const e=t.readBytes(32);return[g((0,O.My)((0,C.A1)(e,-20))),32]}(t);if("bool"===e.type)return function(t){return[x(t.readBytes(32),{size:32}),32]}(t);if(e.type.startsWith("bytes"))return function(t,e,i){let{staticPosition:s}=i;const[n,o]=e.type.split("bytes");if(!o){const e=E(t.readBytes(32));t.setPosition(s+e);const i=E(t.readBytes(32));if(0===i)return t.setPosition(s+32),["0x",32];const n=t.readBytes(i);return t.setPosition(s+32),[(0,O.My)(n),32]}const r=(0,O.My)(t.readBytes(Number.parseInt(o),32));return[r,32]}(t,e,{staticPosition:s});if(e.type.startsWith("uint")||e.type.startsWith("int"))return function(t,e){const i=e.type.startsWith("int"),s=Number.parseInt(e.type.split("int")[1]||"256"),n=t.readBytes(32);return[s>48?B(n,{signed:i}):E(n,{signed:i}),32]}(t,e);if("string"===e.type)return function(t,e){let{staticPosition:i}=e;const s=E(t.readBytes(32)),n=i+s;t.setPosition(n);const o=E(t.readBytes(32));if(0===o)return t.setPosition(i+32),["",32];const r=t.readBytes(o,32),a=M(T(r));return t.setPosition(i+32),[a,32]}(t,{staticPosition:s});throw new l(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const I=32,N=32;function S(t){const{type:e}=t;if("string"===e)return!0;if("bytes"===e)return!0;if(e.endsWith("[]"))return!0;if("tuple"===e)return t.components?.some(S);const i=R(t.type);return!(!i||!S({...t,type:i[1]}))}var q=i(87133),A=i(85291);var L=i(79239),V=i(30746),k=i(71923);const D=new WeakMap;const _=100,K=0;function W(t){const e=function(t){if(D.has(t))return D.get(t);const e=new Map;return D.set(t,e),e}(t.client),i=t.chain.id;if(e.has(t.chain.rpc))return e.get(t.chain.rpc);const s=(()=>{const e=(0,L.r8)({client:t.client,chain:t.chain}),i=t.config?.maxBatchSize??t.client.config?.rpc?.maxBatchSize??_,s=t.config?.batchTimeoutMs??t.client.config?.rpc?.batchTimeoutMs??K,n=new Map;let o=[],r=null;function a(){r&&(clearTimeout(r),r=null);const i=new Array(o.length),s=o.slice().map(((t,e)=>(t.request.id=e,t.request.jsonrpc="2.0",i[e]=t.request,t)));o=[],async function(t,e,i){const s=await(0,V.KI)(e)(t,{headers:{...e.config?.rpc?.fetch?.headers,"Content-Type":"application/json"},body:(0,k.A)(i.requests),method:"POST",requestTimeoutMs:i.requestTimeoutMs??e.config?.rpc?.fetch?.requestTimeoutMs,keepalive:e.config?.rpc?.fetch?.keepalive});if(!s.ok)throw s.body?.cancel(),new Error(`RPC request failed with status ${s.status} - ${s.statusText}`);if(s.headers.get("Content-Type")?.startsWith("application/json"))return await s.json();const n=await s.text();try{return JSON.parse(n)}catch(o){throw console.error("Error parsing response",o,n),o}}(e,t.client,{requests:i,requestTimeoutMs:t.config?.requestTimeoutMs}).then((t=>{s.forEach(((e,i)=>{const s=t[i];if(s)if(s instanceof Error)e.reject(s);else if("string"!==typeof s){if("error"in s)e.reject(s.error);else{if("eth_subscription"===s.method)throw new Error("Subscriptions not supported yet");e.resolve(s.result)}n.delete(e.requestKey)}else e.reject(new Error(s));else e.reject(new Error("No response"))}))})).catch((t=>{for(const e of s)e.reject(t),n.delete(e.requestKey)}))}return 1===i?async i=>{i.id=1,i.jsonrpc="2.0";const s=await async function(t,e,i){const s=await(0,V.KI)(e)(t,{headers:{...e.config?.rpc?.fetch?.headers||{},"Content-Type":"application/json"},body:(0,k.A)(i.request),method:"POST",requestTimeoutMs:i.requestTimeoutMs??e.config?.rpc?.fetch?.requestTimeoutMs,keepalive:e.config?.rpc?.fetch?.keepalive});if(!s.ok)throw s.body?.cancel(),new Error(`RPC request failed with status ${s.status}`);if(s.headers.get("Content-Type")?.startsWith("application/json"))return await s.json();const n=await s.text();try{return JSON.parse(n)}catch(o){throw console.error("Error parsing response",o,n),o}}(e,t.client,{request:i,requestTimeoutMs:t.config?.requestTimeoutMs});if(!s)throw new Error("No response");if("error"in s)throw s.error;return s.result}:async t=>{const e=function(t){return`${t.method}:${JSON.stringify(t.params)}`}(t);if(n.has(e))return n.get(e);let c,u;const h=new Promise(((t,e)=>{c=t,u=e}));return n.set(e,h),o.push({request:t,resolve:c,reject:u,requestKey:e}),i>1?(r||(r=setTimeout(a,s)),o.length>=i&&a()):a(),h}})();return e.set(i,s),s}var F=i(82917),Y=i(12470);async function J(t){const{contract:e,method:i,params:s}=t,[n,o]=await Promise.all([(async()=>{if(Array.isArray(i))return i;if((0,q.d)(i))return(0,Y.v)(i);if("function"===typeof i)return(0,Y.v)(await i(e));if("string"===typeof i&&i.startsWith("function ")){const t=(0,r.$)(i);if("function"===t.type)return(0,Y.v)(t);throw new Error('"method" passed is not of type "function"')}if(e.abi&&e.abi?.length>0){const t=e.abi?.find((t=>"function"===t.type&&t.name===i));if(t)return(0,Y.v)(t)}throw new Error(`Could not resolve method "${i}".`)})(),"function"===typeof s?s():s]);let a;a=0===n[1].length?n[0]:n[0]+(0,F.hd)(n[1],o).slice(2);const c=W({chain:e.chain,client:e.client}),u=await async function(t,e){const{blockNumber:i,blockTag:s,...n}=e,o=(i?(0,A.cK)(i):void 0)||s||"latest";return await t({method:"eth_call",params:e.stateOverrides?[n,o,(r=e.stateOverrides,Object.fromEntries(Object.entries(r).map((t=>{let[e,i]=t;return[e,{balance:i.balance?(0,A.cK)(i.balance):void 0,nonce:i.nonce?(0,A.cK)(i.nonce):void 0,code:i.code,state:i.state,stateDiff:i.stateDiff}]}))))]:[n,o]});var r}(c,{data:a,to:e.address}),h=U(n[2],u);return Array.isArray(h)&&1===h.length?h[0]:h}const Z="0x313ce567",G=[],H=[{type:"uint8"}];async function Q(t){return o((()=>async function(t){return J({contract:t.contract,method:[Z,G,H],params:[]})}(t)),{cacheKey:`${t.contract.chain.id}:${t.contract.address}:decimals`,cacheTime:Number.POSITIVE_INFINITY})}}}]);
//# sourceMappingURL=2855.ec190973.chunk.js.map