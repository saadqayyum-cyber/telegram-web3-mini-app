"use strict";(self.webpackChunkmango=self.webpackChunkmango||[]).push([[1843],{26680:(t,r,e)=>{e.d(r,{D:()=>w,F:()=>p,I:()=>c,a:()=>l,b:()=>h,c:()=>u,f:()=>d,g:()=>g,u:()=>f});var a=e(16487),n=e(89106),i=e(2776),o=e(10974),s=e(26382).Buffer;const c=(()=>n.arrayify("0x80ac58cd"))(),l=(()=>n.arrayify("0xd9b67a26"))(),p={name:"Failed to load NFT metadata"};async function d(t,r,e){if(r.startsWith("data:application/json;base64")&&"undefined"!==typeof s){const e=r.split(",")[1],n=JSON.parse(s.from(e,"base64").toString("utf-8"));return a.a.parse({...n,id:i.gH.from(t).toString(),uri:r})}const o=r.replace("{id}",n.hexZeroPad(i.gH.from(t).toHexString(),32).slice(2));let c;try{c=await e.downloadJSON(o)}catch(l){const a=r.replace("{id}",i.gH.from(t).toString());try{c=await e.downloadJSON(a)}catch(d){console.warn(`failed to get token metadata: ${JSON.stringify({tokenId:t.toString(),tokenUri:r})} -- falling back to default metadata`),c=p}}return a.a.parse({...c,id:i.gH.from(t).toString(),uri:r})}async function u(t,r,n,s){let u;const h=(await e.e(4811).then(e.t.bind(e,94811,19))).default,f=new o.NZ(t,h,r),[g,w]=await Promise.all([f.supportsInterface(c),f.supportsInterface(l)]);if(g){const a=(await Promise.resolve().then(e.t.bind(e,1024,19))).default,i=new o.NZ(t,a,r);u=await i.tokenURI(n)}else{if(!w)throw Error("Contract must implement ERC 1155 or ERC 721.");{const a=(await Promise.resolve().then(e.t.bind(e,51146,19))).default,i=new o.NZ(t,a,r);u=await i.uri(n)}}return u?d(n,u,s):a.a.parse({...p,id:i.gH.from(n).toString(),uri:""})}async function h(t,r){return"string"===typeof t?t:await r.upload(a.C.parse(t))}async function f(t,r,e,n){if(function(t){return void 0===t.find((t=>"string"!==typeof t))}(t))return t;if(function(t){return void 0===t.find((t=>"object"!==typeof t))}(t)){return await r.uploadBatch(t.map((t=>a.C.parse(t))),{rewriteFileNames:{fileStartNumber:e||0},onProgress:n?.onProgress})}throw new Error("NFT metadatas must all be of the same type (all URI or all NFTMetadataInput)")}function g(t){const r=t[0].substring(0,t[0].lastIndexOf("/"));for(let e=0;e<t.length;e++){const a=t[e].substring(0,t[e].lastIndexOf("/"));if(r!==a)throw new Error(`Can only create batches with the same base URI for every entry in the batch. Expected '${r}' but got '${a}'`)}return r.replace(/\/$/,"")+"/"}const w=100},6492:(t,r,e)=>{e.d(r,{E:()=>c,R:()=>o,S:()=>s,a:()=>l});var a=e(2776),n=e(97665),i=e(70592);const o=(()=>n.z.union([n.z.date().transform((t=>a.gH.from(Math.floor(t.getTime()/1e3)))),n.z.number().transform((t=>a.gH.from(t)))]))(),s=(()=>o.default(new Date(0)))(),c=(()=>o.default(new Date(Date.now()+31536e7)))();function l(t,r){if(!t)throw new i.x(r);return t}},78527:(t,r,e)=>{e.d(r,{C:()=>a});class a{constructor(t){this.contractWrapper=t}overrideNextTransaction(t){this.contractWrapper.withTransactionOverride(t)}}},60254:(t,r,e)=>{e.r(r),e.d(r,{MarketplaceV3:()=>u});var a=e(6492),n=e(36859),i=e(70592),o=e(33409),s=e(78527),c=e(48394),l=e(90755),p=e(96137),d=e(3494);e(6373),e(40462),e(92377);class u{static contractRoles=(()=>i.dH)();get directListings(){return(0,a.a)(this.detectDirectListings(),i.dA)}get englishAuctions(){return(0,a.a)(this.detectEnglishAuctions(),i.dB)}get offers(){return(0,a.a)(this.detectOffers(),i.dC)}get chainId(){return this._chainId}constructor(t,r,e){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},p=arguments.length>4?arguments[4]:void 0,d=arguments.length>5?arguments[5]:void 0,h=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new i.cs(t,r,p,a,e);this._chainId=d,this.abi=i.bj.parse(p||[]),this.contractWrapper=h,this.storage=e,this.metadata=new n.C(this.contractWrapper,i.b$,this.storage),this.app=new n.b(this.contractWrapper,this.metadata,this.storage),this.roles=new l.C(this.contractWrapper,u.contractRoles),this.encoder=new o.C(this.contractWrapper),this.estimator=new n.G(this.contractWrapper),this.events=new n.a(this.contractWrapper),this.platformFees=new c.C(this.contractWrapper),this.interceptor=new s.C(this.contractWrapper)}onNetworkUpdated(t){this.contractWrapper.updateSignerOrProvider(t)}getAddress(){return this.contractWrapper.address}async prepare(t,r,e){return d.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:t,args:r,overrides:e})}async call(t,r,e){return this.contractWrapper.call(t,r,e)}detectDirectListings(){if((0,n.d)(this.contractWrapper,"DirectListings"))return new p.M(this.contractWrapper,this.storage)}detectEnglishAuctions(){if((0,n.d)(this.contractWrapper,"EnglishAuctions"))return new p.a(this.contractWrapper,this.storage)}detectOffers(){if((0,n.d)(this.contractWrapper,"Offers"))return new p.b(this.contractWrapper,this.storage)}}},16487:(t,r,e)=>{e.d(r,{B:()=>c,C:()=>l,N:()=>p,a:()=>d,s:()=>u});var a=e(70592),n=e(97665),i=e(33409);const o=(()=>n.z.object({}).catchall(n.z.union([a.cx,n.z.unknown()])))(),s=(()=>n.z.union([n.z.array(n.z.array(o)).transform((t=>t.flat())),n.z.array(o),o]).optional().nullable())(),c=(()=>n.z.object({name:n.z.union([n.z.string(),n.z.number()]).optional().nullable(),description:n.z.string().nullable().optional().nullable(),image:a.cy.nullable().optional(),animation_url:a.cy.optional().nullable()}))(),l=(()=>c.extend({external_url:a.cy.nullable().optional(),background_color:a.cz.optional().nullable(),properties:s,attributes:s}).catchall(n.z.union([a.cx,n.z.unknown()])))(),p=(()=>n.z.union([l,n.z.string()]))(),d=(()=>l.extend({id:n.z.string(),uri:n.z.string(),image:n.z.string().nullable().optional(),external_url:n.z.string().nullable().optional(),animation_url:n.z.string().nullable().optional()}))();async function u(t,r,n,o){if(!(0,i.i)(n)){const i=(await Promise.resolve().then(e.t.bind(e,96337,19))).default,s=t.getSigner(),c=t.getProvider(),l=new a.cs(s||c,n,i,t.options,t.storage),p=await t.getSignerAddress(),d=t.address;return(await l.read("allowance",[p,d])).lt(r)&&await l.sendTransaction("approve",[d,r]),o}o.value=r}}}]);
//# sourceMappingURL=1843.0ab6eeb0.chunk.js.map